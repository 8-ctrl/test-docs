"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[7750],{5680:(e,t,n)=>{n.d(t,{xA:()=>m,yg:()=>u});var a=n(6540);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),d=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},m=function(e){var t=d(e.components);return a.createElement(l.Provider,{value:t},e.children)},p="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),p=d(n),c=i,u=p["".concat(l,".").concat(c)]||p[c]||g[c]||r;return n?a.createElement(u,o(o({ref:t},m),{},{components:n})):a.createElement(u,o({ref:t},m))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:i,o[1]=s;for(var d=2;d<r;d++)o[d]=n[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},1660:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>g,frontMatter:()=>r,metadata:()=>s,toc:()=>d});var a=n(8168),i=(n(6540),n(5680));const r={sidebar_label:"Migrating Model"},o="Migrating Model",s={unversionedId:"documentation/ddms/migrating-ddms",id:"documentation/ddms/migrating-ddms",title:"Migrating Model",description:"Migrating Models in Zelthy is a straightforward process that allows you to apply changes made to your model definitions. This ensures that your data structure remains up-to-date and aligned with your evolving application requirements.",source:"@site/docs/documentation/ddms/migrating-ddms.mdx",sourceDirName:"documentation/ddms",slug:"/documentation/ddms/migrating-ddms",permalink:"/docs/docs/documentation/ddms/migrating-ddms",draft:!1,editUrl:"https://github.com/Healthlane-Technologies/zelthy3/tree/documentation/docs/docs/documentation/ddms/migrating-ddms.mdx",tags:[],version:"current",frontMatter:{sidebar_label:"Migrating Model"},sidebar:"docsSidebar",previous:{title:"Field Types",permalink:"/docs/docs/documentation/ddms/ddm-field-types"},next:{title:"Async Tasks",permalink:"/docs/docs/documentation/async-tasks/overview"}},l={},d=[{value:"Step 1: Generate Migrations with <code>ws_makemigration</code>",id:"step-1-generate-migrations-with-ws_makemigration",level:3},{value:"Step 2: Apply Migrations with <code>ws_migrate</code>",id:"step-2-apply-migrations-with-ws_migrate",level:3}],m={toc:d},p="wrapper";function g(e){let{components:t,...n}=e;return(0,i.yg)(p,(0,a.A)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"migrating-model"},"Migrating Model"),(0,i.yg)("p",null,"Migrating Models in Zelthy is a straightforward process that allows you to apply changes made to your model definitions. This ensures that your data structure remains up-to-date and aligned with your evolving application requirements. "),(0,i.yg)("p",null,"The migration process is similar to Django and consists of two main steps: ",(0,i.yg)("inlineCode",{parentName:"p"},"ws_makemigration")," and ",(0,i.yg)("inlineCode",{parentName:"p"},"ws_migrate"),"."),(0,i.yg)("h3",{id:"step-1-generate-migrations-with-ws_makemigration"},"Step 1: Generate Migrations with ",(0,i.yg)("inlineCode",{parentName:"h3"},"ws_makemigration")),(0,i.yg)("p",null,"The ",(0,i.yg)("inlineCode",{parentName:"p"},"ws_makemigration")," command is used to create migration files for your models. These migration files capture all changes made to your model definitions, such as adding new fields, modifying existing ones, or establishing new relationships. To generate migrations"),(0,i.yg)("p",null,"Navigate to your project root directory and run following command"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-shell"},"python manage.py ws_makemigration <app_name>\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"If the ",(0,i.yg)("inlineCode",{parentName:"li"},"migrations")," folder does not already exist inside your app's folder, it will be created."),(0,i.yg)("li",{parentName:"ul"},"Migration files are generated and placed within this ",(0,i.yg)("inlineCode",{parentName:"li"},"migrations")," folder.")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-plaintext"},"workspaces\n\u251c\u2500\u2500 YourApp\n\u2502   \u251c\u2500\u2500 migrations\n\u2502      \u251c\u2500\u2500 001_initial.py\n\u2502   \u251c\u2500\u2500 YourModule\n\u2502       \u251c\u2500\u2500 models.py\n")),(0,i.yg)("h3",{id:"step-2-apply-migrations-with-ws_migrate"},"Step 2: Apply Migrations with ",(0,i.yg)("inlineCode",{parentName:"h3"},"ws_migrate")),(0,i.yg)("p",null,"Once you've generated migration files, you can apply these changes to your database using the ",(0,i.yg)("inlineCode",{parentName:"p"},"ws_migrate")," command. This command automatically detects dependencies between migrations and ensures they are executed in the correct order. To apply the migrations:"),(0,i.yg)("p",null,"Navigate to your project root directory and run following command"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-shell"},"python manage.py ws_migrate <app_name>\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"The migration process will execute, and the changes defined in your migration files will be reflected in the database schema.")),(0,i.yg)("p",null,"Every Zelthy Models which created by extending the ",(0,i.yg)("inlineCode",{parentName:"p"},"DynamicModelBase")," class inherit these fields (",(0,i.yg)("inlineCode",{parentName:"p"},"created_at"),", ",(0,i.yg)("inlineCode",{parentName:"p"},"created_by"),", ",(0,i.yg)("inlineCode",{parentName:"p"},"modified_at"),", ",(0,i.yg)("inlineCode",{parentName:"p"},"modified_by"),"), providing a consistent and standardized approach to data tracking and user accountability."),(0,i.yg)("p",null,"Zelthy's migration system offers a robust and efficient way to manage changes to your models, making it easy to maintain an up-to-date and flexible data structure that aligns with your application's evolving needs."))}g.isMDXComponent=!0}}]);